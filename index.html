<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ALEX SUPREME V12.7 - HYBRID ANALYZER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap');
        * { -webkit-user-select: none; user-select: none; box-sizing: border-box; outline: none !important; }
        body { background: #000; color: #fff; font-family: 'Orbitron', sans-serif; height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden; margin: 0; }
        
        /* LASER BACKGROUND */
        #laser-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        /* CYBER UI */
        .cyber-card { background: rgba(0,0,0,0.85); border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(15px); border-radius: 30px; position: relative; overflow: hidden; box-shadow: 0 0 50px rgba(0,0,0,1); }
        .cyber-card::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: conic-gradient(from 0deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #8f00ff, #ff0000); animation: rotate 6s linear infinite; z-index: -1; opacity: 0.2; }
        @keyframes rotate { 100% { transform: rotate(360deg); } }
        
        .inner-card { background: rgba(10,10,10,0.98); border-radius: 28px; padding: 35px; }
        .input-cyber { background: #050505 !important; border: 1px solid #222 !important; color: #00f2ff !important; text-align: center; transition: 0.3s; }
        .input-cyber:focus { border-color: #00f2ff !important; box-shadow: 0 0 10px rgba(0,242,255,0.2); }
        
        .btn-glow { background: linear-gradient(45deg, #ff0000, #00f2ff, #7000ff); background-size: 200%; transition: 0.5s; font-weight: 900; color: white; text-shadow: 0 0 5px rgba(0,0,0,0.5); }
        .btn-glow:hover { background-position: right center; transform: scale(1.02); box-shadow: 0 0 20px rgba(0,242,255,0.4); }
        
        .hidden { display: none !important; }
        .result-tai { color: #00f2ff; text-shadow: 0 0 30px #00f2ff; font-size: 4.5rem; font-weight: 900; line-height: 1; }
        .result-xiu { color: #ff0055; text-shadow: 0 0 30px #ff0055; font-size: 4.5rem; font-weight: 900; line-height: 1; }
        .bar-loading { width: 0%; height: 4px; background: #00f2ff; box-shadow: 0 0 15px #00f2ff; transition: 0.2s; }
    </style>
</head>
<body oncontextmenu="return false;">

    <canvas id="laser-canvas"></canvas>

    <div id="kick-overlay" class="hidden fixed inset-0 bg-black z-[9999] flex items-center justify-center text-red-600 font-bold text-center p-10">
        <div><h1 class="text-5xl mb-6">SECURITY ALERT</h1><p id="bad-ip-info" class="text-xl"></p></div>
    </div>

    <div id="app" class="w-full max-w-[420px] p-4 relative z-10">
        
        <div id="login-box" class="cyber-card">
            <div class="inner-card space-y-6">
                <div class="text-center">
                    <h1 class="text-3xl font-black italic tracking-tighter">TOOL VIP <span class="text-cyan-400">MD5</span></h1>
                    <p class="text-[8px] text-slate-500 tracking-[0.5em] mt-2 italic uppercase">Verison 2026@</p>
                </div>
                <div class="space-y-4">
                    <input id="u" type="text" placeholder="USERNAME" class="w-full p-4 rounded-2xl input-cyber text-xs uppercase font-bold">
                    <input id="p" type="password" placeholder="PASSWORD" class="w-full p-4 rounded-2xl input-cyber text-xs">
                </div>
                <button onclick="doLogin()" class="w-full py-4 btn-glow rounded-2xl text-xs uppercase shadow-lg">Access System</button>
                <div class="flex justify-between text-[9px] text-slate-600 font-bold uppercase">
                    <button onclick="showBox('reg')">Đăng Ký</button>
                    <button id="adm-btn" onclick="openAdmin()" class="text-red-900">Admin Control</button>
                </div>
            </div>
        </div>

        <div id="reg-box" class="hidden cyber-card">
            <div class="inner-card space-y-4">
                <h2 class="text-center font-black text-cyan-400">ĐĂNG KÝ TÀI KHOẢN</h2>
                <input id="r-u" type="text" placeholder="USERNAME" class="w-full p-4 rounded-2xl input-cyber text-xs uppercase font-bold">
                <input id="r-p" type="password" placeholder="PASSWORD" class="w-full p-4 rounded-2xl input-cyber text-xs">
                <input id="r-sdt" type="number" placeholder="PHONE NUMBER" class="w-full p-4 rounded-2xl input-cyber text-xs">
                <input id="r-mail" type="email" placeholder="GMAIL ADDRESS" class="w-full p-4 rounded-2xl input-cyber text-xs">
                <button onclick="doReg()" class="w-full py-4 btn-glow rounded-2xl text-xs uppercase">Confirm Sign Up</button>
                <button onclick="showBox('login')" class="w-full text-[9px] text-slate-500 uppercase">Back to Login</button>
            </div>
        </div>

        <div id="dash-box" class="hidden space-y-4">
            <div class="cyber-card"><div class="inner-card p-6 flex justify-between items-center">
                <div><p id="cur-u" class="text-xs font-bold text-cyan-400 uppercase"></p><p id="cur-b" class="text-sm font-black"></p></div>
                <button onclick="showNap()" class="bg-cyan-500 text-black px-4 py-2 rounded-xl text-[10px] font-bold">NẠP TIỀN</button>
            </div></div>
            <div class="grid grid-cols-2 gap-3">
                <div onclick="buy(25000, 1)" class="cyber-card cursor-pointer"><div class="inner-card p-4 text-center text-[10px] font-bold">KEY 1D<br><span class="text-cyan-400 text-xs">25.000đ</span></div></div>
                <div onclick="buy(150000, 30)" class="cyber-card cursor-pointer"><div class="inner-card p-4 text-center text-[10px] font-bold">KEY 30D<br><span class="text-cyan-400 text-xs">150.000đ</span></div></div>
            </div>
            <div class="cyber-card"><div class="inner-card space-y-4">
                <input id="key-in" type="text" placeholder="ENTER LICENSE KEY" class="w-full p-4 rounded-2xl input-cyber text-xs uppercase">
                <button onclick="activeKey()" class="w-full py-4 btn-glow rounded-2xl text-xs uppercase">Activate Tool</button>
            </div></div>
        </div>

        <div id="nap-box" class="hidden cyber-card">
            <div class="inner-card text-center space-y-5">
                <div class="flex items-center justify-center gap-2">
                    <img id="bank-logo" src="" class="h-6">
                    <p class="text-[10px] font-bold" id="bank-name-display"></p>
                </div>
                <img id="qr" src="" class="mx-auto rounded-3xl border-2 border-white/10 w-48">
                <div class="bg-white/5 p-4 rounded-2xl border border-white/10">
                    <p class="text-[8px] text-red-500 font-bold uppercase mb-1">Nội dung chuyển khoản:</p>
                    <p id="ref-code" class="text-2xl font-black text-white italic tracking-widest"></p>
                </div>
                <button onclick="showBox('dash')" class="text-[9px] text-slate-500 uppercase underline">Quay lại</button>
            </div>
        </div>

        <div id="tool-box" class="hidden cyber-card">
            <div class="inner-card p-8 space-y-6 text-center">
                <div class="flex justify-between text-[8px] text-green-500 font-bold uppercase"><span>● Sever Online</span><span id="hsd-info"></span></div>
                <textarea id="md5-val" placeholder="DÁN MÃ PHIÊN MD5 TẠI ĐÂY..." class="w-full h-32 p-4 rounded-3xl input-cyber text-[10px] uppercase"></textarea>
                <button id="btn-ana" onclick="startAnalysis()" class="w-full py-5 btn-glow rounded-3xl text-xs uppercase shadow-xl">Analyze MD5 Session</button>
                <div id="load-box" class="hidden space-y-2"><div class="w-full h-1 bg-white/5 rounded-full overflow-hidden"><div id="load-bar" class="bar-loading"></div></div></div>
                <div id="res-box" class="hidden py-4 border-t border-white/5">
                    <p id="res-text"></p>
                    <div id="res-acc" class="text-[9px] text-cyan-400 font-bold italic uppercase mt-4"></div>
                </div>
            </div>
        </div>

        <div id="admin-box" class="hidden cyber-card"><div class="inner-card space-y-4">
            <h2 class="text-red-500 font-black text-center text-sm uppercase">Admin Control Panel</h2>
            <input id="adm-u" type="text" placeholder="USER ID" class="w-full p-4 rounded-2xl input-cyber text-xs uppercase">
            <input id="adm-m" type="number" placeholder="AMOUNT" class="w-full p-4 rounded-2xl input-cyber text-xs">
            <button onclick="adminAdd()" class="w-full py-4 bg-red-600 rounded-2xl text-xs font-black text-white">ADD BALANCE</button>
            <button onclick="location.reload()" class="w-full text-[8px] text-slate-500 uppercase">Logout Admin</button>
        </div></div>

    </div>

    <script>
        const CONFIG = {
            ADMIN_IP: "14.191.248.22", 
            ADMIN_PASS: "nguyendu2009@",
            STK: "103886058569",
            BANK: "VietinBank",
            BANK_ID: "ICB", // Mã VietQR cho VietinBank
            DB: "ALEX_HYBRID_V127"
        };
        let currentUser = null;
        let myIP = "";

        // --- BACKGROUND LASER ---
        const canvas = document.getElementById('laser-canvas');
        const ctx = canvas.getContext('2d');
        let lines = [];
        function initCanvas() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            lines = [];
            for(let i=0; i<15; i++) lines.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, angle: Math.random()*Math.PI*2, speed: 1.2, color: `hsl(${Math.random()*360}, 100%, 50%)`});
        }
        function drawLaser() {
            ctx.fillStyle = 'rgba(0,0,0,0.1)'; ctx.fillRect(0,0,canvas.width,canvas.height);
            lines.forEach(l => {
                ctx.beginPath(); ctx.strokeStyle = l.color; ctx.lineWidth = 2; ctx.shadowBlur = 15; ctx.shadowColor = l.color;
                ctx.moveTo(l.x, l.y); l.x += Math.cos(l.angle)*l.speed; l.y += Math.sin(l.angle)*l.speed; ctx.lineTo(l.x, l.y); ctx.stroke();
                if(l.x<0 || l.x>canvas.width || l.y<0 || l.y>canvas.height) { l.x=Math.random()*canvas.width; l.y=Math.random()*canvas.height; }
            });
            requestAnimationFrame(drawLaser);
        }
        window.onresize = initCanvas; initCanvas(); drawLaser();

        // --- CORE LOGIC ---
        const getDB = () => JSON.parse(localStorage.getItem(CONFIG.DB)) || { users: [], keys: [] };
        const saveDB = (db) => localStorage.setItem(CONFIG.DB, JSON.stringify(db));

        async function securityCheck() {
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                myIP = data.ip;
                if(myIP !== CONFIG.ADMIN_IP) document.getElementById('adm-btn').classList.add('hidden');
            } catch(e) {}
        }
        securityCheck();

        function showBox(id) {
            ['login-box', 'dash-box', 'tool-box', 'admin-box', 'nap-box', 'reg-box'].forEach(b => document.getElementById(b).classList.add('hidden'));
            document.getElementById(id + '-box').classList.remove('hidden');
        }

        function doReg() {
            const u = document.getElementById('r-u').value.trim().toUpperCase();
            const p = document.getElementById('r-p').value;
            const sdt = document.getElementById('r-sdt').value;
            const mail = document.getElementById('r-mail').value;
            if(!u || !p || !sdt || !mail) return alert("Vui lòng điền đầy đủ!");
            let db = getDB();
            if(db.users.find(x => x.u === u)) return alert("Tài khoản đã tồn tại!");
            db.users.push({ u, p, sdt, mail, bal: 0, ref: "ALEX"+Math.floor(1000+Math.random()*9000), hsd: null });
            saveDB(db); alert("Đăng ký thành công!"); showBox('login');
        }

        function doLogin() {
            const u = document.getElementById('u').value.trim().toUpperCase();
            const p = document.getElementById('p').value;
            let db = getDB();
            const f = db.users.find(x => x.u === u && x.p === p);
            if(f) {
                currentUser = f;
                if(currentUser.hsd && currentUser.hsd > Date.now()) showTool(); else showDash();
            } else alert("Thông tin đăng nhập sai!");
        }

        function showDash() {
            showBox('dash');
            document.getElementById('cur-u').innerText = "Account: " + currentUser.u;
            document.getElementById('cur-b').innerText = currentUser.bal.toLocaleString() + "đ";
        }

        function showNap() {
            document.getElementById('ref-code').innerText = currentUser.ref;
            document.getElementById('bank-name-display').innerText = CONFIG.BANK;
            document.getElementById('bank-logo').src = `https://api.vietqr.io/img/${CONFIG.BANK_ID}.png`;
            document.getElementById('qr').src = `https://img.vietqr.io/image/${CONFIG.BANK_ID}-${CONFIG.STK}-compact.png?addInfo=${currentUser.ref}`;
            showBox('nap');
        }

        function buy(p, d) {
            let db = getDB();
            const i = db.users.findIndex(x => x.u === currentUser.u);
            if(db.users[i].bal < p) return alert("Số dư không đủ!");
            db.users[i].bal -= p;
            const k = "ALEX-" + Math.random().toString(36).substring(5).toUpperCase();
            db.keys.push({ key: k, days: d, used: false });
            currentUser = db.users[i]; saveDB(db); showDash();
            prompt("HÃY SAO CHÉP KEY CỦA BẠN:", k);
        }

        function activeKey() {
            const k = document.getElementById('key-in').value.trim().toUpperCase();
            let db = getDB();
            const kI = db.keys.findIndex(x => x.key === k && !x.used);
            if(kI === -1) return alert("Key không chính xác!");
            const uI = db.users.findIndex(x => x.u === currentUser.u);
            const timeToAdd = db.keys[kI].days * 86400000;
            db.users[uI].hsd = (db.users[uI].hsd > Date.now() ? db.users[uI].hsd : Date.now()) + timeToAdd;
            db.keys[kI].used = true;
            currentUser = db.users[uI]; saveDB(db);
            alert("Kích hoạt thành công!"); showTool();
        }

        function showTool() {
            showBox('tool');
            document.getElementById('hsd-info').innerText = "HSD: " + new Date(currentUser.hsd).toLocaleDateString();
        }

        function startAnalysis() {
            const val = document.getElementById('md5-val').value.trim();
            if(val.length < 10) return alert("Mã phiên không hợp lệ!");
            document.getElementById('btn-ana').disabled = true;
            document.getElementById('load-box').classList.remove('hidden');
            let p = 0;
            const iv = setInterval(() => {
                p += 5; document.getElementById('load-bar').style.width = p + "%";
                if(p >= 100) { clearInterval(iv); getRes(val); }
            }, 50);
        }

        // --- HYBRID PREDICTION ALGORITHM ---
        function getRes(md5) {
            const val = md5.toLowerCase();
            
            // Logic 1: Decimal Sum (VN)
            let sum = 0;
            for(let i=0; i<val.length; i++) sum += val.charCodeAt(i);

            // Logic 2: Hex Position (International)
            const hexKeys = val[0] + val[val.length-1] + val[Math.floor(val.length/2)];
            let hexWeight = 0;
            for(let i=0; i<hexKeys.length; i++) hexWeight += parseInt(hexKeys[i], 16) || 0;

            const finalScore = (sum * 0.4) + (hexWeight * 0.6);
            const isTai = Math.floor(finalScore) % 2 === 0;
            
            const r = document.getElementById('res-text');
            const acc = document.getElementById('res-acc');
            r.innerText = isTai ? "TÀI" : "XỈU";
            r.className = isTai ? "result-tai" : "result-xiu";
            
            const accuracy = (93 + Math.random()*5.8).toFixed(2);
            acc.innerHTML = `Độ chính xác Hybrid: ${accuracy}%<br><span class="text-[6px] text-gray-500">Algorithm Matrix V12.7 Active</span>`;
            
            document.getElementById('load-box').classList.add('hidden');
            document.getElementById('res-box').classList.remove('hidden');
            document.getElementById('btn-ana').disabled = false;
        }

        function openAdmin() {
            if(myIP !== CONFIG.ADMIN_IP) {
                document.getElementById('app').classList.add('hidden');
                document.getElementById('bad-ip-info').innerText = "IP DENIED: " + myIP;
                document.getElementById('kick-overlay').classList.remove('hidden');
                setTimeout(() => location.href="https://google.com", 2500);
                return;
            }
            if(prompt("ROOT PASSWORD:") === CONFIG.ADMIN_PASS) showBox('admin');
        }

        function adminAdd() {
            const u = document.getElementById('adm-u').value.trim().toUpperCase();
            const m = parseInt(document.getElementById('adm-m').value);
            let db = getDB();
            const i = db.users.findIndex(x => x.u === u);
            if(i !== -1) {
                db.users[i].bal += m;
                saveDB(db); alert("Đã cộng tiền!");
            } else alert("Không tìm thấy User!");
        }
    </script>
</body>
</html>
